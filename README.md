# 视频生成工具

这是一个智能视频生成工具，可以根据小说文本自动生成配有语音和背景音乐的视频。该工具提供了直观的 Web 界面，方便用户上传文件并生成视频。

## 功能特点

- 支持将文本转换为自然语音
- 从视频素材库中随机选择视频片段
- 自动移除视频原声
- 添加背景音乐
- 支持多种视频格式（MP4、AVI、MOV、MKV）
- 直观的 Web 界面
- 支持文件拖拽上传
- 实时进度显示

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 启动 Web 服务

```bash
python app.py
```

然后在浏览器中访问 `http://localhost:5001`

### 使用 Web 界面

1. 上传文件：
   - 点击"上传视频文件"区域上传视频素材
   - 点击"上传背景音乐"区域上传背景音乐文件
   - 支持的文件格式：
     - 视频：MP4、AVI、MOV、MKV
     - 音乐：MP3

2. 生成视频：
   - 在文本框中输入要转换为语音的文本
   - 从下拉菜单中选择语音类型
   - 点击"生成视频"按钮
   - 等待处理完成后，视频将自动下载

### 命令行使用（可选）

如果您更喜欢使用命令行，也可以直接使用以下命令：

```bash
python video_merger.py 文本文件路径 视频素材库路径 背景音乐文件路径 输出视频路径 [--voice 语音选项]
```

## 语音选项

可用的中文语音选项：
- zh-CN-XiaoxiaoNeural（晓晓，女声）
- zh-CN-YunxiNeural（云希，男声）
- zh-CN-YunyangNeural（云扬，男声）
- zh-CN-XiaoyiNeural（晓伊，女声）

## 注意事项

- 确保所有输入文件都存在且格式正确
- 视频素材库中至少需要3个视频文件
- 处理过程可能需要一些时间，请耐心等待
- 确保有足够的磁盘空间存储输出文件
- 临时文件会自动清理
- Web 界面支持最大 16GB 的文件上传 